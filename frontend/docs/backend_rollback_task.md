# バックエンド保存失敗時のロールバック

## 概要

新規ユーザー登録フローにおいて、Supabaseでの認証は成功したが、その後のバックエンドデータベースへのユーザー情報（プロフィール）保存が失敗した場合のロールバック処理を実装する。

## 目的

SupabaseとバックエンドDB間でデータの一貫性を保ち、ユーザーに不完全な状態を提供しないようにする。

## 詳細

`SignUpContainer.tsx` 内の `onSubmit` 関数において、バックエンドAPI (`/api/signup` または `/api/users` など) へのリクエストが失敗した場合に、Supabaseで作成されたユーザーを削除する処理を検討する。

### 考慮事項

*   SupabaseのAdmin APIを使用する必要があるか？
*   フロントエンドから直接Supabaseユーザーを削除するべきか、バックエンド経由で削除するべきか？
*   ユーザーへの適切なエラーメッセージと、再試行の案内。
*   ロールバック処理自体の失敗時のハンドリング。

## 関連ファイル

*   `frontend/src/features/auth/components/SignUpContainer.tsx`
*   Supabase関連のクライアント/サーバーサイドコード
